---
name: step1_age_calculated
description: Calculated Age
priority: 1
condition: "step1_dob_entered != ''"
actions:
  - 'calculation = helper.getDifferenceDays(step1_dob_entered) / 365.25'
---
name: step1_dob_calculated
description: Calculated DOB
priority: 1
condition: "step1_age_entered != ''"
actions:
  - 'calculation = helper.getDOBFromAge(step1_age_entered)'
---
name: step1_dob
description: Final calculated DOB
priority: 1
condition: "true"
actions:
  - 'calculation = (step1_dob_entered == "" ? step1_dob_calculated : step1_dob_entered)'
---
name: step1_age
description: Final calculated Age
priority: 1
condition: "true"
actions:
  - 'calculation = (step1_dob_entered == "" ? step1_age_entered : step1_age_calculated)'
---
name: step2_conception_date
description: The mothers conception date
priority: 1
condition: "(step2_lmp != null && step2_lmp != '') || (step2_ga_weeks_entered != null && step2_ga_weeks_entered != '') || (step2_ga_days_entered != null && step2_ga_days_entered != '')"
actions:
  - "calculation = (step2_lmp != null && step2_lmp != '') ? step2_lmp : (step2_ga_weeks_entered != null && step2_ga_weeks_entered != '') ? helper.subtractDuration(helper.getDateToday(), ((new Integer(step2_ga_weeks_entered) * 7) + ((step2_ga_days_entered != null && step2_ga_days_entered != '') ? new Integer(step2_ga_days_entered) : 0) +'d')) : helper.getDateToday()"
---
name: step2_gest_age
description: The mothers gestation age
priority: 1
condition: "step2_lmp != ''"
actions:
  - "calculation = helper.getWeeksAndDaysFromDays(helper.getDifferenceDays(helper.getSecondaryValue(step2_lmp)))"
---
name: step2_ga_weeks_entered
description: The mothers gestation age
priority: 1
condition: "step2_lmp != ''"
actions:
  - "calculation = helper.getWeeks(helper.getDifferenceDays(helper.getSecondaryValue(step2_lmp)))"